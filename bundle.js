(()=>{var __webpack_modules__={138:()=>{eval("let account\n\nconst initializeMina = async () => {\n  const onboardButton = document.getElementById('connectButton')\n  const getAccountsButton = document.getElementById('getAccounts')\n  const getAccountsResults = document.getElementById('getAccountsResult')\n\n  onboardButton.onclick = async () => {\n    if (!window.mina) {\n      alert(\"No provider was found 请先安装 auro-wallet\")\n    } else {\n      onboardButton.innerText = 'Onboarding in progress'\n      let data = await window.mina.requestAccounts().catch(err=>err)\n      if(!data.code){\n        let approveAccount = data\n        account = approveAccount\n        document.getElementById('accounts').innerHTML = approveAccount;\n        onboardButton.innerText = 'Connected'\n        onboardButton.disabled = true\n      }else{\n        onboardButton.innerText = data.message\n      }\n    }\n  }\n  /**\n   * get account\n   */\n  getAccountsButton.onclick = async () => {\n    if (window.mina) {\n      let data = await window.mina.requestAccounts().catch(err=>err)\n      let approveAccount = data\n      if(!data.code){\n        getAccountsResults.innerHTML = approveAccount;\n      }else{\n        getAccountsResults.innerHTML = data.message\n      }\n    }\n  }\n\n\n  const sendButton = document.getElementById('sendButton')\n  const sendAmountInput = document.getElementById('sendAmountInput')\n  const receiveAddressInput = document.getElementById('receiveAddressInput')\n  const sendResultDisplay = document.getElementById('sendResultDisplay')\n\n  /**\n   * transfer \n   */\n  sendButton.onclick = async () => {\n    let from = account && account.length > 0 ? account[0] : \"\"\n    let sendResult = await window.mina.sendPayment({\n      amount: sendAmountInput.value,\n      from: from,\n      to: receiveAddressInput.value,\n    }).catch(err=>err)\n    if(sendResult.hash){\n      sendResultDisplay.innerHTML = sendResult.hash\n    }else{\n      sendResultDisplay.innerHTML = sendResult.message\n    }\n  }\n\n\n  /**\n   * staking\n   */\n  const stakingButton = document.getElementById('stakingButton')\n  const vaildatorAddressInput = document.getElementById('vaildatorAddressInput')\n  const stakingResultDisplay = document.getElementById('stakingResultDisplay')\n\n  stakingButton.onclick = async () => {//质押不用输入金额\n    let from = account && account.length > 0 ? account[0] : \"\"\n    let stakingResult = await window.mina.sendStakeDelegation({\n      from: from,\n      to: vaildatorAddressInput.value,\n    }).catch(err=>err)\n    if(stakingResult.hash){\n      stakingResultDisplay.innerHTML = stakingResult.hash\n    }else{\n      stakingResultDisplay.innerHTML = stakingResult.message\n    }\n  }\n  /**\n   * sign message\n   */\n  const signMessageButton = document.getElementById('signMessageButton')\n  const signMessageContent = document.getElementById('signMessageContent')\n  const signMessageResult = document.getElementById('signMessageResult')\n  const signVerifyButton = document.getElementById('signVerifyButton')\n  const verifyResult = document.getElementById('verifyResult')\n\n\n  let signResult\n\n  signMessageButton.onclick = async () => {\n    let from = account && account.length > 0 ? account[0] : \"\"\n    signResult = await window.mina.signMessage({\n      from: from,\n      message: signMessageContent.value,\n    }).catch(err=>err)\n    if(signResult.signature){\n      signMessageResult.innerHTML = JSON.stringify(signResult.signature)\n    }else{\n      signMessageResult.innerHTML = signResult.message\n    }\n  }\n\n  /**\n   * Verify Message\n   */\n  signVerifyButton.onclick = async () => {\n    let from = account && account.length > 0 ? account[0] : \"\"\n    let messageVerifyResult = await window.mina.verifyMessage({\n      publicKey:from,\n      signature:{\n        field:signResult?.signature?.field,\n        scalar:signResult?.signature?.scalar\n      },\n      payload:signMessageContent.value\n    }).catch(err=>err)\n    verifyResult.innerHTML = messageVerifyResult\n  }\n\n\n  setTimeout(() => {\n    if (window.mina) {\n      window.mina.on('accountsChanged',handleNewAccounts)\n      window.mina.on('chainChanged',handleChainChange)\n    }\n  }, 200);\n\n  const networkDiv = document.getElementById('network')\n  function handleChainChange(newChain) {\n    networkDiv.innerHTML = newChain\n  }\n  \n\n  function handleNewAccounts(newAccounts) {\n    if (Array.isArray(newAccounts)) {\n      document.getElementById('accounts').innerHTML = newAccounts;\n      if (newAccounts.length === 0) {\n        onboardButton.innerText = 'Connect'\n        onboardButton.disabled = false\n      }\n    }\n  }\n}\nwindow.addEventListener('DOMContentLoaded', initializeMina)//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM4LmpzIiwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYXlncm91bmQvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYWNjb3VudFxuXG5jb25zdCBpbml0aWFsaXplTWluYSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgb25ib2FyZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0QnV0dG9uJylcbiAgY29uc3QgZ2V0QWNjb3VudHNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2V0QWNjb3VudHMnKVxuICBjb25zdCBnZXRBY2NvdW50c1Jlc3VsdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2V0QWNjb3VudHNSZXN1bHQnKVxuXG4gIG9uYm9hcmRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5taW5hKSB7XG4gICAgICBhbGVydChcIk5vIHByb3ZpZGVyIHdhcyBmb3VuZCDor7flhYjlronoo4UgYXVyby13YWxsZXRcIilcbiAgICB9IGVsc2Uge1xuICAgICAgb25ib2FyZEJ1dHRvbi5pbm5lclRleHQgPSAnT25ib2FyZGluZyBpbiBwcm9ncmVzcydcbiAgICAgIGxldCBkYXRhID0gYXdhaXQgd2luZG93Lm1pbmEucmVxdWVzdEFjY291bnRzKCkuY2F0Y2goZXJyPT5lcnIpXG4gICAgICBpZighZGF0YS5jb2RlKXtcbiAgICAgICAgbGV0IGFwcHJvdmVBY2NvdW50ID0gZGF0YVxuICAgICAgICBhY2NvdW50ID0gYXBwcm92ZUFjY291bnRcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnRzJykuaW5uZXJIVE1MID0gYXBwcm92ZUFjY291bnQ7XG4gICAgICAgIG9uYm9hcmRCdXR0b24uaW5uZXJUZXh0ID0gJ0Nvbm5lY3RlZCdcbiAgICAgICAgb25ib2FyZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWVcbiAgICAgIH1lbHNle1xuICAgICAgICBvbmJvYXJkQnV0dG9uLmlubmVyVGV4dCA9IGRhdGEubWVzc2FnZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogZ2V0IGFjY291bnRcbiAgICovXG4gIGdldEFjY291bnRzQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5taW5hKSB7XG4gICAgICBsZXQgZGF0YSA9IGF3YWl0IHdpbmRvdy5taW5hLnJlcXVlc3RBY2NvdW50cygpLmNhdGNoKGVycj0+ZXJyKVxuICAgICAgbGV0IGFwcHJvdmVBY2NvdW50ID0gZGF0YVxuICAgICAgaWYoIWRhdGEuY29kZSl7XG4gICAgICAgIGdldEFjY291bnRzUmVzdWx0cy5pbm5lckhUTUwgPSBhcHByb3ZlQWNjb3VudDtcbiAgICAgIH1lbHNle1xuICAgICAgICBnZXRBY2NvdW50c1Jlc3VsdHMuaW5uZXJIVE1MID0gZGF0YS5tZXNzYWdlXG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBjb25zdCBzZW5kQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbmRCdXR0b24nKVxuICBjb25zdCBzZW5kQW1vdW50SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZEFtb3VudElucHV0JylcbiAgY29uc3QgcmVjZWl2ZUFkZHJlc3NJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNlaXZlQWRkcmVzc0lucHV0JylcbiAgY29uc3Qgc2VuZFJlc3VsdERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZFJlc3VsdERpc3BsYXknKVxuXG4gIC8qKlxuICAgKiB0cmFuc2ZlciBcbiAgICovXG4gIHNlbmRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcbiAgICBsZXQgZnJvbSA9IGFjY291bnQgJiYgYWNjb3VudC5sZW5ndGggPiAwID8gYWNjb3VudFswXSA6IFwiXCJcbiAgICBsZXQgc2VuZFJlc3VsdCA9IGF3YWl0IHdpbmRvdy5taW5hLnNlbmRQYXltZW50KHtcbiAgICAgIGFtb3VudDogc2VuZEFtb3VudElucHV0LnZhbHVlLFxuICAgICAgZnJvbTogZnJvbSxcbiAgICAgIHRvOiByZWNlaXZlQWRkcmVzc0lucHV0LnZhbHVlLFxuICAgIH0pLmNhdGNoKGVycj0+ZXJyKVxuICAgIGlmKHNlbmRSZXN1bHQuaGFzaCl7XG4gICAgICBzZW5kUmVzdWx0RGlzcGxheS5pbm5lckhUTUwgPSBzZW5kUmVzdWx0Lmhhc2hcbiAgICB9ZWxzZXtcbiAgICAgIHNlbmRSZXN1bHREaXNwbGF5LmlubmVySFRNTCA9IHNlbmRSZXN1bHQubWVzc2FnZVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIHN0YWtpbmdcbiAgICovXG4gIGNvbnN0IHN0YWtpbmdCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2luZ0J1dHRvbicpXG4gIGNvbnN0IHZhaWxkYXRvckFkZHJlc3NJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YWlsZGF0b3JBZGRyZXNzSW5wdXQnKVxuICBjb25zdCBzdGFraW5nUmVzdWx0RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFraW5nUmVzdWx0RGlzcGxheScpXG5cbiAgc3Rha2luZ0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4gey8v6LSo5oq85LiN55So6L6T5YWl6YeR6aKdXG4gICAgbGV0IGZyb20gPSBhY2NvdW50ICYmIGFjY291bnQubGVuZ3RoID4gMCA/IGFjY291bnRbMF0gOiBcIlwiXG4gICAgbGV0IHN0YWtpbmdSZXN1bHQgPSBhd2FpdCB3aW5kb3cubWluYS5zZW5kU3Rha2VEZWxlZ2F0aW9uKHtcbiAgICAgIGZyb206IGZyb20sXG4gICAgICB0bzogdmFpbGRhdG9yQWRkcmVzc0lucHV0LnZhbHVlLFxuICAgIH0pLmNhdGNoKGVycj0+ZXJyKVxuICAgIGlmKHN0YWtpbmdSZXN1bHQuaGFzaCl7XG4gICAgICBzdGFraW5nUmVzdWx0RGlzcGxheS5pbm5lckhUTUwgPSBzdGFraW5nUmVzdWx0Lmhhc2hcbiAgICB9ZWxzZXtcbiAgICAgIHN0YWtpbmdSZXN1bHREaXNwbGF5LmlubmVySFRNTCA9IHN0YWtpbmdSZXN1bHQubWVzc2FnZVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogc2lnbiBtZXNzYWdlXG4gICAqL1xuICBjb25zdCBzaWduTWVzc2FnZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWduTWVzc2FnZUJ1dHRvbicpXG4gIGNvbnN0IHNpZ25NZXNzYWdlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWduTWVzc2FnZUNvbnRlbnQnKVxuICBjb25zdCBzaWduTWVzc2FnZVJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWduTWVzc2FnZVJlc3VsdCcpXG4gIGNvbnN0IHNpZ25WZXJpZnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnblZlcmlmeUJ1dHRvbicpXG4gIGNvbnN0IHZlcmlmeVJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJpZnlSZXN1bHQnKVxuXG5cbiAgbGV0IHNpZ25SZXN1bHRcblxuICBzaWduTWVzc2FnZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgIGxldCBmcm9tID0gYWNjb3VudCAmJiBhY2NvdW50Lmxlbmd0aCA+IDAgPyBhY2NvdW50WzBdIDogXCJcIlxuICAgIHNpZ25SZXN1bHQgPSBhd2FpdCB3aW5kb3cubWluYS5zaWduTWVzc2FnZSh7XG4gICAgICBmcm9tOiBmcm9tLFxuICAgICAgbWVzc2FnZTogc2lnbk1lc3NhZ2VDb250ZW50LnZhbHVlLFxuICAgIH0pLmNhdGNoKGVycj0+ZXJyKVxuICAgIGlmKHNpZ25SZXN1bHQuc2lnbmF0dXJlKXtcbiAgICAgIHNpZ25NZXNzYWdlUmVzdWx0LmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHNpZ25SZXN1bHQuc2lnbmF0dXJlKVxuICAgIH1lbHNle1xuICAgICAgc2lnbk1lc3NhZ2VSZXN1bHQuaW5uZXJIVE1MID0gc2lnblJlc3VsdC5tZXNzYWdlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBNZXNzYWdlXG4gICAqL1xuICBzaWduVmVyaWZ5QnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGZyb20gPSBhY2NvdW50ICYmIGFjY291bnQubGVuZ3RoID4gMCA/IGFjY291bnRbMF0gOiBcIlwiXG4gICAgbGV0IG1lc3NhZ2VWZXJpZnlSZXN1bHQgPSBhd2FpdCB3aW5kb3cubWluYS52ZXJpZnlNZXNzYWdlKHtcbiAgICAgIHB1YmxpY0tleTpmcm9tLFxuICAgICAgc2lnbmF0dXJlOntcbiAgICAgICAgZmllbGQ6c2lnblJlc3VsdD8uc2lnbmF0dXJlPy5maWVsZCxcbiAgICAgICAgc2NhbGFyOnNpZ25SZXN1bHQ/LnNpZ25hdHVyZT8uc2NhbGFyXG4gICAgICB9LFxuICAgICAgcGF5bG9hZDpzaWduTWVzc2FnZUNvbnRlbnQudmFsdWVcbiAgICB9KS5jYXRjaChlcnI9PmVycilcbiAgICB2ZXJpZnlSZXN1bHQuaW5uZXJIVE1MID0gbWVzc2FnZVZlcmlmeVJlc3VsdFxuICB9XG5cblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAod2luZG93Lm1pbmEpIHtcbiAgICAgIHdpbmRvdy5taW5hLm9uKCdhY2NvdW50c0NoYW5nZWQnLGhhbmRsZU5ld0FjY291bnRzKVxuICAgICAgd2luZG93Lm1pbmEub24oJ2NoYWluQ2hhbmdlZCcsaGFuZGxlQ2hhaW5DaGFuZ2UpXG4gICAgfVxuICB9LCAyMDApO1xuXG4gIGNvbnN0IG5ldHdvcmtEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV0d29yaycpXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYWluQ2hhbmdlKG5ld0NoYWluKSB7XG4gICAgbmV0d29ya0Rpdi5pbm5lckhUTUwgPSBuZXdDaGFpblxuICB9XG4gIFxuXG4gIGZ1bmN0aW9uIGhhbmRsZU5ld0FjY291bnRzKG5ld0FjY291bnRzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV3QWNjb3VudHMpKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudHMnKS5pbm5lckhUTUwgPSBuZXdBY2NvdW50cztcbiAgICAgIGlmIChuZXdBY2NvdW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgb25ib2FyZEJ1dHRvbi5pbm5lclRleHQgPSAnQ29ubmVjdCdcbiAgICAgICAgb25ib2FyZEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXRpYWxpemVNaW5hKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///138\n")}},__webpack_exports__={};__webpack_modules__[138](),window.playground=__webpack_exports__.playground})();